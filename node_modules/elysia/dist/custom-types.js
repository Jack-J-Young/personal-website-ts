import{Type as e}from"@sinclair/typebox";import{TypeSystem as t}from"@sinclair/typebox/system";try{t.Format("email",e=>/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(e)),t.Format("uuid",e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)),t.Format("date",e=>!Number.isNaN(new Date(e).getTime())),t.Format("date-time",e=>!Number.isNaN(new Date(e).getTime()))}catch(i){}let i=i=>{if("string"==typeof i)switch(i.slice(-1)){case"k":return 1024*+i.slice(0,i.length-1);case"m":return 1048576*+i.slice(0,i.length-1);default:return+i}return i},r=(r,a)=>{if(!(a instanceof Blob)||r.minSize&&a.size<i(r.minSize)||r.maxSize&&a.size>i(r.maxSize))return!1;if(r.extension){if("string"==typeof r.extension){if(!a.type.startsWith(r.extension))return!1}else{for(let e=0;e<r.extension.length;e++)if(a.type.startsWith(r.extension[e]))return!0;return!1}}return!0};export const ElysiaType={Numeric:t.Type("Numeric",{}),File:t.Type("File",r),Files:t.Type("Files",(i,a)=>{if(!Array.isArray(a)||i.minItems&&a.length<i.minItems||i.maxItems&&a.length>i.maxItems)return!1;for(let e=0;e<a.length;e++)if(!r(i,a[e]))return!1;return!0})};e.Numeric=i=>e.Number({...i,elysiaMeta:"Numeric"}),e.URLEncoded=(i,r)=>e.Object(i,{...r,elysiaMeta:"URLEncoded"}),e.File=i=>ElysiaType.File({elysiaMeta:"File",default:"File",...i,extension:i?.type,type:"string",format:"binary"}),e.Files=i=>ElysiaType.Files({...i,elysiaMeta:"Files",default:"Files",extension:i?.type,type:"array",items:{...i,default:"Files",type:"string",format:"binary"}});export{e as t};